<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>tf_assert — tf_assert • tfautograph</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="tf_assert — tf_assert" />
<meta property="og:description" content="A thin wrapper around tf$Assert() that automatically constructs an
informative error message (passed on to data argument), which includes the
expression passed to condition, the values of the symbols found in the
expression, as well as the full R call stack at the time the tf$Assert()
node is created." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tfautograph</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tfautograph.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tf-v1.html">Autographing Tensorflow version 1.15</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>tf_assert</h1>
    
    <div class="hidden name"><code>tf_assert.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A thin wrapper around <code>tf$Assert()</code> that automatically constructs an
informative error message (passed on to <code>data</code> argument), which includes the
expression passed to <code>condition</code>, the values of the symbols found in the
expression, as well as the full R call stack at the time the <code>tf$Assert()</code>
node is created.</p>
    </div>

    <pre class="usage"><span class='fu'>tf_assert</span>(<span class='no'>condition</span>, <span class='no'>...</span>, <span class='kw'>expr</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>substitute</a></span>(<span class='no'>condition</span>),
  <span class='kw'>summarize</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>condition</th>
      <td><p>A boolean tensor</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional elements passed on to <code>data</code>. (e.g, an informative
error message as a string, additional tensor values that might be useful to
have in the error message, etc.)</p></td>
    </tr>
    <tr>
      <th>expr</th>
      <td><p>A language object, provided in case <code>condition</code> is already
computed prior to the call</p></td>
    </tr>
    <tr>
      <th>summarize</th>
      <td><p>Print this many entries of each tensor.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>A name for this operation (optional).</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='no'>tf</span>$<span class='fu'>constant</span>(-<span class='fl'>1</span>)
<span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='fu'>tf_assert</span>(<span class='no'>x</span> <span class='kw'>&gt;</span> <span class='fl'>0</span>, <span class='st'>"oopsies! x must be greater than 0"</span>))</div><div class='output co'>#&gt; Error in py_call_impl(callable, dots$args, dots$keywords) : 
#&gt;   InvalidArgumentError: Expected 'tf.Tensor(False, shape=(), dtype=bool)' to be true. Summarized data: &lt;Assert condition R expression&gt;: x &gt; 0
#&gt; oopsies! x must be greater than 0
#&gt; `x` value:
#&gt; -1.0
#&gt; R call stack:
#&gt; &lt;R call 1&gt;: tf_assert(x &gt; 0, "oopsies! x must be greater than 0")
#&gt; &lt;R call 2&gt;: doTryCatch(return(expr), name, parentenv, handler)
#&gt; &lt;R call 3&gt;: tryCatchOne(expr, names, parentenv, handlers[[1L]])
#&gt; &lt;R call 4&gt;: tryCatchList(expr, classes, parentenv, handlers)
#&gt; &lt;R call 5&gt;: tryCatch(expr, error = function(e) {
#&gt; &lt;R call 6&gt;: try(tf_assert(x &gt; 0, "oopsies! x must be greater than 0"))
#&gt; &lt;R call 7&gt;: eval(expr, envir, enclos)
#&gt; &lt;R call 8&gt;: eval(expr, envir, enclos)
#&gt; &lt;R call 9&gt;: withVisible(eval(expr, envir, enclos))
#&gt; &lt;R call 10&gt;: withCallingHandlers(withVisible(eval(expr, envir, enclos)), warning = wHandler, error = eHandler, message = mHandler)
#&gt; &lt;R call 11&gt;: doTryCatch(return(expr), name, parentenv, handler)
#&gt; &lt;R call 12&gt;: tryCatchOne(expr, names, parentenv, handlers[[1L]])
#&gt; &lt;R call 13&gt;: tryCatchList(expr, classes, parentenv, handlers)
#&gt; &lt;R call 14&gt;: tryCatch(expr, error = function(e) {
#&gt; &lt;R call 15&gt;: try(f, silent = TRUE)
#&gt; &lt;R call 16&gt;: handle(ev &lt;- withCallingHandlers(withVisible(eval(expr, envir, enclos)), warning = wHandler, error = eHandler, message = mHandler))
#&gt; &lt;R call 17&gt;: timing_fn(handle(ev &lt;- withCallingHandlers(withVisible(eval(expr, envir, enclos)), warning = wHandler, error = eHandler, message = mHandler)))
#&gt; &lt;R call 18&gt;: evaluate_call(expr, parsed$src[[i]], envir = envir, enclos = enclos, debug = debug, last = i == length(out), use_try = stop_on_error != 2L, keep_warning = keep_warning, keep_message = keep_message, output_handler = output_handler, include_timing = include_timing)
#&gt; &lt;R call 19&gt;: evaluate::evaluate(x, child_env(env), new_device = TRUE)
#&gt; &lt;R call 20&gt;: highlight_examples(code, topic, env = env)
#&gt; &lt;R call 21&gt;: run_examples(tags$tag_examples[[1]], env = new.env(parent = globalenv()), topic = tools::file_path_sans_ext(topic$file_in), run_examples = examples, run_dont_run = run_dont_run)
#&gt; &lt;R call 22&gt;: data_reference_topic(topic, pkg, examples = examples, run_dont_run = run_dont_run)
#&gt; &lt;R call 23&gt;: .f(.x[[i]], ...)
#&gt; &lt;R call 24&gt;: purrr::map(topics, build_reference_topic, pkg = pkg, lazy = lazy, examples = examples, run_dont_run = run_dont_run)
#&gt; &lt;R call 25&gt;: build_reference(pkg, lazy = lazy, examples = examples, run_dont_run = run_dont_run, seed = seed, override = override, preview = FALSE, devel = devel)
#&gt; &lt;R call 26&gt;: build_site_local(pkg = pkg, examples = examples, run_dont_run = run_dont_run, seed = seed, lazy = lazy, override = override, preview = preview, devel = devel)
#&gt; &lt;R call 27&gt;: pkgdown::build_site(...)
#&gt; &lt;R call 28&gt;: (function (..., crayon_enabled, crayon_colors, pkgdown_internet) 
#&gt; &lt;R call 29&gt;: (function (what, args, quote = FALSE, envir = parent.frame()) 
#&gt; &lt;R call 30&gt;: do.call(do.call, c(readRDS("/var/folders/zc/63kn9zds1qs4pk6v8h4q8mwc0000gn/T//Rtmp2Xh11M/file14f5577d48fff"), list(envir = .GlobalEnv)), envir = .GlobalEnv)
#&gt; &lt;R call 31&gt;: saveRDS(do.call(do.call, c(readRDS("/var/folders/zc/63kn9zds1qs4pk6v8h4q8mwc0000gn/T//Rtmp2Xh11M/file14f5577d48fff"), list(envir = .GlobalEnv)), envir = .GlobalEnv), file = "/var/folders/zc/63kn9zds1qs4pk6v8h4q8mwc0000gn/T//Rtmp2Xh11M/file14f552439ebcf")
#&gt; &lt;R call 32&gt;: withCallingHandlers({
#&gt; &lt;R call 33&gt;: doTryCatch(return(expr), name, parentenv, handler)
#&gt; &lt;R call 34&gt;: tryCatchOne(expr, names, parentenv, handlers[[1L]])
#&gt; &lt;R call 35&gt;: tryCatchList(expr, names[-nh], parentenv, handlers[-nh])
#&gt; &lt;R call 36&gt;: doTryCatch(return(expr), name, parentenv, handler)
#&gt; &lt;R call 37&gt;: tryCatchOne(tryCatchList(expr, names[-nh], parentenv, handlers[-nh]), names[nh], parentenv, handlers[[nh]])
#&gt; &lt;R call 38&gt;: tryCatchList(expr, classes, parentenv, handlers)
#&gt; &lt;R call 39&gt;: tryCatch(withCallingHandlers({
#&gt; 
#&gt; Detailed traceback: 
#&gt;   File "/usr/local/opt/python@2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow_core/python/util/tf_should_use.py", line 198, in wrapped
#&gt;     return _add_should_use_warning(fn(*args, **kwargs))
#&gt;   File "/usr/local/opt/python@2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/tensorflow_core/python/ops/control_flow_ops.py", line 156, in Assert
#&gt;     (condition, "\n".join(data_str)))
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tomasz Kalinowski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


